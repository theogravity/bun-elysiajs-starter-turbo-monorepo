import { Elysia, t } from "elysia";
import { contextPlugin } from "@/plugins/context.plugin.js";
{{#ifEquals methodType "GET" }}{{set "responseCode" 200 }}{{/ifEquals}}{{#ifEquals methodType "POST" }}{{set "responseCode" 200 }}{{/ifEquals}}{{#ifEquals methodType "PUT" }}{{set "responseCode" 201 }}{{/ifEquals}}{{#ifEquals methodType "DELETE" }}{{set "responseCode" 204 }}{{/ifEquals}}
const {{ properCase operationName }}RequestSchema = t.Object({
  description: t.String({
    description: "Define your request body here",
  }),
});

export type {{ properCase operationName }}Request = typeof {{ properCase operationName }}RequestSchema.static;

const {{ properCase operationName }}ResponseSchema = t.Object({
  id: t.Number({
    description: "Define your response body here",
  }),
});

export type {{ properCase operationName }}Response = typeof {{ properCase operationName }}ResponseSchema.static;

export const {{ operationName }}Route = new Elysia()
  .use(contextPlugin)
  .{{ lowerCase methodType }}(
    "{{ routePath }}",
    async ({ body, ctx, log }) => {
      const { description } = body;

      const response: {{ properCase operationName }}Response = {
        id: 1,
      };

      return response;
    },
    {
      body: {{ properCase operationName }}RequestSchema,
      response: {{ properCase operationName }}ResponseSchema,
      detail: {
        operationId: "{{ operationName }}",
        tags: ["{{ routeResource }}"],
        description: "Add your route description here",
      },
    },
  );
